# Конфигурация для GroupShuffleGNN модели

model_name: "groupshuffle_gnn"

# Параметры модели
model:
  embedding_dim: 64        # Размерность embeddings (должна делиться на block_size)
  n_layers: 3              # Количество слоев GroupShuffleLayer
  block_size: 8             # Размер блока для ортогональной матрицы
  residual_alpha: 0.1       # Коэффициент для residual connections (0.0-1.0)
  dropout: 0.0              # Dropout (0.0 = нет dropout)
  init_scale: 0.1           # Увеличено с 0.01 для лучшей инициализации

# Параметры обучения
training:
  learning_rate: 0.0001  # Уменьшено с 0.001 для стабильности GNN
  weight_decay: 1e-5  # Уменьшено для меньшей регуляризации
  batch_size: 2048
  epochs: 300
  early_stopping:
    patience: 50  # Увеличено с 20 для более долгого обучения
    min_delta: 0.00001  # Уменьшено для более чувствительного early stopping
  
  # BPR Loss параметры
  negative_samples: 1       # Количество отрицательных примеров на положительный
  
  # Learning rate scheduling
  use_scheduler: true
  warmup_epochs: 5
  max_grad_norm: 1.0

# Параметры для разных датасетов (можно переопределить)
dataset_specific:
  movie_lens:
    embedding_dim: 64
    n_layers: 3
    block_size: 8
  
  book_crossing:
    embedding_dim: 64
    n_layers: 3
    block_size: 8
  
  gowalla:
    embedding_dim: 64
    n_layers: 3
    block_size: 8
